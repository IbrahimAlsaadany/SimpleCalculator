#:kivy 2.0.0
<Button>
    font_size:48
<GridLayout>
    spacing:2
<Calculator>
    last:''
    action:action
    GridLayout:
        size:root.width,root.height
        rows:2
        cols:1
        GridLayout:
            padding:2
            cols:1
            rows:1
            size_hint:(1,.2)
            Label:
                id:action
                font_size:48
                color:(0,0,0,1)
                background_color:(1,1,1,1)
                canvas.before:
                    Color:
                        rgba:self.background_color
                    Rectangle:
                        size:self.size
                        pos:self.pos
        GridLayout:
            rows:1
            cols:2
            GridLayout:
                rows:2
                GridLayout:
                    cols:3
                    rows:4
                    Button:
                        background_color:(0,0,1,1)
                        text:"Del"
                        on_press:root.delete()
                    Button:
                        background_color:(.5,.5,.5,1)
                        text:"/"
                        on_press:root.typing('/')
                    Button:
                        background_color:(.5,.5,.5,1)
                        text:"*"
                        on_press:root.typing('*')
                    Button:
                        text:'7'
                        on_press:root.typing('7')
                    Button:
                        text:'8'
                        on_press:root.typing('8')
                    Button:
                        text:'9'
                        on_press:root.typing('9')
                    Button:
                        text:'4'
                        on_press:root.typing('4')
                    Button:
                        text:'5'
                        on_press:root.typing('5')
                    Button:
                        text:'6'
                        on_press:root.typing('6')
                    Button:
                        text:'1'
                        on_press:root.typing('1')
                    Button:
                        text:'2'
                        on_press:root.typing('2')
                    Button:
                        text:'3'
                        on_press:root.typing('3')
                GridLayout:
                    size_hint:(1,1/4)
                    cols:2
                    rows:1
                    Button:
                        text:"0"
                        on_press:root.typing('0')
                    Button:
                        size_hint:.5,1
                        text:"."
                        on_press:root.typing('.')
            GridLayout:
                size_hint:(1/3,1)
                cols:1
                rows:3
                Button:
                    background_color:(.5,.5,.5,1)
                    size_hint:(1,.5)
                    text:"-"
                    on_press:root.typing('-')
                Button:
                    background_color:(.5,.5,.5,1)
                    text:"+"
                    on_press:root.typing('+')
                Button:
                    background_color:(1,0,0,1)
                    text:"="
                    on_press:root.calc()